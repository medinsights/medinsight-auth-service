apiVersion: v1
kind: ConfigMap
metadata:
  name: auth-service-config
  namespace: medinsights
data:
  # Database Configuration
  POSTGRES_DB: "auth_db"
  DB_HOST: "auth-postgres-service"
  DB_PORT: "5432"
  
  # Application Configuration
  SERVER_PORT: "8001"
  DEBUG: "False"
  ALLOWED_HOSTS: "auth-service,localhost,127.0.0.1"
  
  # JWT Configuration
  JWT_ALGORITHM: "RS256"
  JWT_ACCESS_TOKEN_LIFETIME: "900"    # 15 minutes
  JWT_REFRESH_TOKEN_LIFETIME: "2592000"  # 30 days
  
  # CORS Configuration
  CORS_ALLOWED_ORIGINS: "http://kong:8000,http://localhost:8000"
  
  # Security
  SECURE_SSL_REDIRECT: "True"
  SESSION_COOKIE_SECURE: "True"
  CSRF_COOKIE_SECURE: "True"
  
  # Rate Limiting
  RATE_LIMIT_LOGIN: "5"
  RATE_LIMIT_REFRESH: "10"
  
  # Email (Console backend for now)
  EMAIL_BACKEND: "django.core.mail.backends.console.EmailBackend"
  DEFAULT_FROM_EMAIL: "noreply@medinsights.com"
